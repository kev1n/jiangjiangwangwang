<html>
  <head>
    <title>Ducky Drive</title>
    <link rel="stylesheet" href="/static/css/xterm.css" />
    <link rel="stylesheet" href="/static/css/style.css" />
    <!--import bootstrap cdn-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="
    https://cdn.jsdelivr.net/npm/monaco-editor@0.39.0/dev/vs/editor/editor.main.min.css
    " rel="stylesheet">

  </head>
  <body>

    <body>
      <!-- navbar -->
      <nav class="navbar bg-light">
        <div class="container-fluid d-flex">
          <a class="navbar-brand" href="#">
            <img src="https://img.freepik.com/free-icon/rubber-duck_318-763202.jpg" class="logo"> Drive
          </a>
          <form class="d-flex w-50">
            <input class="form-control rounded" type="search" placeholder="Search" aria-label="Search">
          </form>
          <div class="rounded p-1">
            {{username}}
          </div>
        </div>
      </nav>
      
      <!-- bottom -->
      <div class="container-fluid row bottom">
        <!-- sidebar -->
        <div class="sidebar col-md-2 col-sm-3 bg-light h-100">
          <!-- + new button -->

          <div class="dropdown mt-3">
            <button class="btn btn-white shadow-sm border dropdown-toggle p-2" type="button" data-bs-toggle="dropdown" aria-expanded="false">+ New</button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">New File</a></li>
              <li><a class="dropdown-item" href="#">New Folder</a></li>
              <li><a class="dropdown-item" href="#">Upload File</a></li>
            </ul>
          </div>
          <!-- sidebar menu -->
          <ul class="mt-3 sidebar-menu">
            
              {% for path in individualPaths %}
                <a onclick='changeDirectory("{{paths[loop.index]}}")' href="#" class="text-decoration-none">
                <li class="sidebar-item rounded px-1 mb-1 pb-1 pt-3">
                  <p>{{path}}</p>
                </li>
              </a>
              {% endfor %}
          </ul>
        </div>
        <!-- main content -->
        
        <div class="card col-md-10 col-sm-9 container-fluid main-container">
          <div class="card-body p-1">
            {% for path in individualPaths %}
              <span onclick='changeDirectory("{{paths[loop.index]}}")'>{{path}} > </span>
            {% endfor %}
            <div class="card-body overflow-auto">
              <!-- folders -->
              {% include 'folders.html' %}
              <br>
              {% include 'files.html' %}
            </div>
          </div>
        </div>
      </div>

    <p style="display:none" id="username">{{username}}</p>
    <p style="display:none" id="current-path">{{currentPath}}</p>
    <button id="toggle-button" onclick="openTerminal(8000)">Open Terminal</button>
    <div width="500" height="500" id="terminal"></div>
    
    <h1>Current Path</h1>
    {% for path in individualPaths %}
      <span onclick='changeDirectory("{{paths[loop.index - 1]}}")'>{{path}} > </span>
    {% endfor %}

    <!--Search form-->
    <h1>Search for a file</h1>
    <form action="/search" method="POST">
      <label for="filename">Filename</label>
      <input type="text" id="filename" name="filename" placeholder="Search">
      <button type="submit">Search</button>
    </form>
    <h1>Files</h1>

    <h2>Create a file</h2>
    <textarea width="500" height="500" id="create-file"></textarea>
    <label for="file-form">File Name</label>
    <input type="text" id="create-file-name" placeholder="File Name">
    <button onclick='createFile()'>Create File</button>
    
    {% include 'files.html' %}

    <!-- create form for file uploads-->
    <h2>Upload a file</h2>
    <form action="/upload" method="POST" enctype="multipart/form-data">
      <input type="file" name="file" id="file">
      <button type="submit">Upload</button>
    </form>

    <h1>Folders</h1>


    <h2>Create a folder</h2>
    <label for="folder-form">Folder Name</label>
    <input type="text" id="create-folder-name" placeholder="Folder Name">
    <button onclick='createDirectory()'>Create Folder</button>
  
  
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="
    https://cdn.jsdelivr.net/npm/xterm@5.1.0/lib/xterm.min.js
    "></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <!-- OR ANY OTHER AMD LOADER HERE INSTEAD OF loader.js -->
		<script src="https://unpkg.com/monaco-editor@0.39.0/min/vs/loader.js"></script>
    <script>
      require.config({ paths: { 'vs': 'https://unpkg.com/monaco-editor@0.39.0/min/vs/' }});
    </script>
    <script src="/static/js/filemanager.js"></script>
    <script src="/static/js/server.js"></script>
    <script src="../static/js/cleanData.js"></script>
    <script src="../static/js/dragging.js"></script>
    
  </body>
</html>